<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estat√≠stica Computacional - Portfolio R</title>
    
    <!-- Tailwind CSS para Estiliza√ß√£o R√°pida e Bento Grid -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Prism.js para Colorir o C√≥digo R -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
    
    <!-- √çcones -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Fontes -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Slate 100 */
        }
        
        .code-font {
            font-family: 'Fira Code', monospace;
        }

        /* Anima√ß√µes suaves */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Estilo Bento Grid */
        .bento-card {
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
            overflow: hidden;
        }
        .bento-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* Scrollbar personalizada para o c√≥digo */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1f2937; 
        }
        ::-webkit-scrollbar-thumb {
            background: #4b5563; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #6b7280; 
        }
    </style>
</head>
<body class="text-gray-800 antialiased h-screen overflow-hidden flex flex-col">

    <!-- HEADER / NAV -->
    <nav class="bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center z-50">
        <div class="flex items-center gap-3 cursor-pointer" onclick="goHome()">
            <div class="bg-blue-600 text-white p-2 rounded-lg font-bold">R</div>
            <div>
                <h1 class="font-bold text-lg leading-tight">Estat√≠stica Comp.</h1>
                <p class="text-xs text-gray-500">Portf√≥lio da Sthe üê±‚Äçüíª</p>
            </div>
        </div>
        <div id="nav-controls" class="hidden flex gap-4">
            <button onclick="prevSlide()" class="p-2 hover:bg-gray-100 rounded-full transition" title="Anterior">
                <i data-lucide="chevron-left"></i>
            </button>
            <span id="slide-counter" class="self-center font-mono text-sm text-gray-500">1 / 5</span>
            <button onclick="nextSlide()" class="p-2 hover:bg-gray-100 rounded-full transition" title="Pr√≥ximo">
                <i data-lucide="chevron-right"></i>
            </button>
            <button onclick="goHome()" class="ml-4 px-4 py-2 bg-gray-900 text-white rounded-lg text-sm hover:bg-gray-700 transition">
                Voltar
            </button>
        </div>
    </nav>

    <!-- VIEW: BENTO GRID (HOME) -->
    <main id="home-view" class="flex-1 overflow-y-auto p-4 md:p-8 fade-in">
        <div class="max-w-7xl mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-4 md:grid-rows-4 gap-4 h-full min-h-[600px]">
                
                <!-- 1. Intro Card (Grande) -->
                <div class="bento-card col-span-1 md:col-span-2 md:row-span-2 bg-gradient-to-br from-blue-600 to-indigo-700 text-white rounded-3xl p-8 flex flex-col justify-between" onclick="openModule('intro')">
                    <div>
                        <div class="bg-white/20 w-fit px-3 py-1 rounded-full text-xs font-medium mb-4 backdrop-blur-sm">Leia Antes</div>
                        <h2 class="text-4xl font-bold mb-2">Bem-vindos!</h2>
                        <p class="text-blue-100">Uma jornada pelos c√≥digos de Estat√≠stica Computacional.</p>
                    </div>
                    <div class="mt-4">
                        <p class="text-sm opacity-80 mb-4">"C√≥digos desenvolvidos durante a disciplina com o Prof. Pedro Franklin. Um tesouro de refer√™ncias!"</p>
                        <div class="flex items-center gap-2 text-sm font-semibold">
                            Come√ßar aqui <i data-lucide="arrow-right" class="w-4 h-4"></i>
                        </div>
                    </div>
                    <!-- Decorativo -->
                    <i data-lucide="book-open" class="absolute top-8 right-8 w-24 h-24 text-white/10"></i>
                </div>

                <!-- 2. Sintaxe B√°sica -->
                <div class="bento-card col-span-1 md:col-span-1 md:row-span-2 bg-white rounded-3xl p-6 border border-gray-200 flex flex-col relative" onclick="openModule('sintaxe')">
                    <div class="bg-green-100 text-green-700 w-10 h-10 rounded-full flex items-center justify-center mb-4">
                        <i data-lucide="code-2"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-1">Sintaxe R</h3>
                    <p class="text-sm text-gray-500 leading-relaxed">Aritm√©tica, vetores e manipula√ß√£o de valores b√°sicos.</p>
                    <div class="mt-auto pt-4">
                        <span class="text-xs bg-gray-100 px-2 py-1 rounded border">sintaxe_Aritmetica.R</span>
                    </div>
                </div>

                <!-- 3. Visualiza√ß√£o (Ggplot2) -->
                <div class="bento-card col-span-1 md:col-span-1 md:row-span-2 bg-gray-900 text-gray-100 rounded-3xl p-6 flex flex-col justify-between" onclick="openModule('graficos')">
                    <div>
                        <div class="flex justify-between items-start">
                            <h3 class="font-bold text-xl text-pink-400">Visualiza√ß√£o</h3>
                            <i data-lucide="bar-chart-2" class="text-gray-500"></i>
                        </div>
                        <p class="text-sm text-gray-400 mt-2">Gr√°ficos nativos e o poder do Ggplot2.</p>
                    </div>
                    <div class="h-20 w-full bg-gray-800 rounded-lg mt-4 flex items-end justify-around p-2 gap-1 opacity-50">
                        <div class="bg-pink-500 w-full h-[40%] rounded-sm"></div>
                        <div class="bg-pink-500 w-full h-[70%] rounded-sm"></div>
                        <div class="bg-pink-500 w-full h-[50%] rounded-sm"></div>
                        <div class="bg-pink-500 w-full h-[90%] rounded-sm"></div>
                    </div>
                </div>

                <!-- 4. Estudo de Caso: Titanic -->
                <div class="bento-card col-span-1 md:col-span-2 md:row-span-1 bg-white rounded-3xl p-6 border border-gray-200 flex items-center gap-6" onclick="openModule('titanic')">
                    <div class="bg-blue-50 p-4 rounded-2xl">
                        <i data-lucide="ship" class="w-8 h-8 text-blue-600"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-lg">O Naufr√°gio do Titanic</h3>
                        <p class="text-sm text-gray-500">Inclui "Dicas Iniciais" e an√°lise completa.</p>
                    </div>
                    <i data-lucide="chevron-right" class="ml-auto text-gray-300"></i>
                </div>

                <!-- 5. Estudo de Caso: Flores (√Årvores) -->
                <div class="bento-card col-span-1 md:col-span-1 md:row-span-1 bg-purple-50 rounded-3xl p-6 border border-purple-100 hover:border-purple-300" onclick="openModule('flores')">
                    <div class="flex items-center gap-2 mb-2">
                        <i data-lucide="flower-2" class="text-purple-600"></i>
                        <h3 class="font-bold text-purple-900">Iris & √Årvores</h3>
                    </div>
                    <p class="text-xs text-purple-700">Classifica√ß√£o manual, √Årvores de Decis√£o e Random Forest.</p>
                </div>

                <!-- 6. Estudo de Caso: Pinguins (KNN) -->
                <div class="bento-card col-span-1 md:col-span-1 md:row-span-1 bg-orange-50 rounded-3xl p-6 border border-orange-100 hover:border-orange-300" onclick="openModule('pinguins')">
                    <div class="flex items-center gap-2 mb-2">
                        <i data-lucide="bird" class="text-orange-600"></i>
                        <h3 class="font-bold text-orange-900">Pinguins KNN</h3>
                    </div>
                    <p class="text-xs text-orange-700">L√≥gica manual e Algoritmo KNN profissional.</p>
                </div>

                 <!-- 7. Datasets Info -->
                 <div class="bento-card col-span-1 md:col-span-4 md:row-span-1 bg-white rounded-3xl p-4 border border-gray-200 flex items-center justify-between overflow-hidden">
                    <div class="flex items-center gap-4">
                        <div class="bg-gray-100 p-2 rounded-lg"><i data-lucide="database" class="w-5 h-5"></i></div>
                        <div>
                            <span class="font-bold text-sm">Datasets Dispon√≠veis</span>
                            <div class="flex gap-2 mt-1 text-xs text-gray-500">
                                <span class="bg-gray-100 px-2 py-0.5 rounded">cancer.csv</span>
                                <span class="bg-gray-100 px-2 py-0.5 rounded">chicago.csv</span>
                                <span class="bg-gray-100 px-2 py-0.5 rounded">russian_tweets.csv</span>
                                <span class="hidden md:inline bg-gray-100 px-2 py-0.5 rounded">femur.csv</span>
                            </div>
                        </div>
                    </div>
                    <div class="text-xs text-right text-gray-400">
                        Total 9 arquivos<br>CSV e TXT
                    </div>
                </div>

            </div>
        </div>
        
        <footer class="text-center text-gray-400 text-sm mt-8 pb-4">
            &copy; 2025 Sthe & Prof. Pedro Franklin | Estat√≠stica Computacional
        </footer>
    </main>

    <!-- VIEW: SLIDE / AULA (Hidden by default) -->
    <main id="slide-view" class="hidden flex-1 flex flex-col md:flex-row h-full overflow-hidden fade-in">
        
        <!-- Painel Esquerdo: Explica√ß√£o -->
        <div class="w-full md:w-2/5 bg-white p-8 overflow-y-auto border-r border-gray-200 flex flex-col">
            <div id="slide-tag" class="uppercase tracking-wider text-xs font-bold text-blue-600 mb-2">M√≥dulo</div>
            <h2 id="slide-title" class="text-3xl font-bold text-gray-900 mb-6">T√≠tulo da Aula</h2>
            
            <div id="slide-content" class="prose prose-slate text-gray-600 space-y-4 flex-1">
                <!-- Conte√∫do injetado via JS -->
            </div>

            <!-- Dica Visual -->
            <div class="mt-8 p-4 bg-yellow-50 border-l-4 border-yellow-400 rounded-r text-sm text-yellow-800">
                <p class="font-bold mb-1"><i data-lucide="lightbulb" class="inline w-4 h-4 mr-1"></i> Dica:</p>
                <span id="slide-tip">Use o RStudio para rodar estes exemplos localmente.</span>
            </div>
        </div>

        <!-- Painel Direito: C√≥digo -->
        <div class="w-full md:w-3/5 bg-[#1e1e1e] flex flex-col h-[50vh] md:h-auto">
            <div class="bg-[#252526] px-4 py-2 text-xs text-gray-400 border-b border-[#333] flex justify-between items-center">
                <span id="code-filename">script.R</span>
                <button class="hover:text-white flex items-center gap-1" onclick="copyCode()">
                    <i data-lucide="copy" class="w-3 h-3"></i> Copiar
                </button>
            </div>
            <div class="flex-1 overflow-auto relative group">
                <pre class="m-0 p-6 !bg-transparent h-full"><code id="code-block" class="language-r code-font text-sm">
# O c√≥digo aparecer√° aqui...
                </code></pre>
            </div>
        </div>
    </main>

    <script>
        // Inicializa √çcones
        lucide.createIcons();

        // --- DADOS DO CONTE√öDO ---
        const modules = {
            intro: [
                {
                    title: "Considera√ß√µes Iniciais",
                    tag: "Introdu√ß√£o",
                    filename: "(leiaAntes).md",
                    tip: "Instale o RStudio para uma melhor experi√™ncia.",
                    content: `<p>Ol√°! Estes c√≥digos foram desenvolvidos durante a disciplina de <strong>Estat√≠stica Computacional</strong> no curso de Ci√™ncia da Computa√ß√£o.</p>
                              <p>Recomendo fortemente o uso da IDE <strong>RStudio</strong>. Primeiro instale o R propriamente dito, e em seguida o RStudio.</p>
                              <p>Aqui voc√™ encontrar√° exemplos de sintaxe b√°sica, gera√ß√£o de gr√°ficos e estudos de casos reais como o do Titanic e Iris.</p>`,
                    code: `# Bem-vindo ao R!
# Para instalar um pacote, usamos:
install.packages("ggplot2")

# Para carregar uma biblioteca:
library(ggplot2)

# Para pedir ajuda sobre uma fun√ß√£o:
?mean
?sample

# "Bjs da Sthe! üê±‚Äçüíª"`
                }
            ],
            sintaxe: [
                {
                    title: "Aritm√©tica B√°sica",
                    tag: "Sintaxe",
                    filename: "sintaxe_Aritmetica.R",
                    tip: "O R trata TRUE como 1 e FALSE como 0 em opera√ß√µes matem√°ticas.",
                    content: `<p>O R funciona como uma calculadora poderosa. Al√©m das opera√ß√µes matem√°ticas padr√£o (+, -, *, /), temos opera√ß√µes l√≥gicas.</p>
                              <p>Um detalhe interessante √© a coer√ß√£o l√≥gica: voc√™ pode somar valores booleanos para contar ocorr√™ncias verdadeiras.</p>`,
                    code: `# Operadores aritm√©ticos:
2 + 5         # Soma
3 ^ 2         # Pot√™ncia
100 %% 2      # M√≥dulo (Resto da divis√£o)

# Aritm√©tica L√≥gica
testeA <- TRUE
FALSE + testeA  # Retorna 1
TRUE + TRUE     # Retorna 2

# Operadores l√≥gicos:
!TRUE          # Nega√ß√£o
TRUE | FALSE   # OU l√≥gico
TRUE & FALSE   # E l√≥gico`
                },
                {
                    title: "Vetores e Valores",
                    tag: "Sintaxe",
                    filename: "sintaxe_CriandoManipulandoValores.R",
                    tip: "A fun√ß√£o c() significa 'combine' ou 'concatenate'.",
                    content: `<p>No R, a estrutura de dados mais fundamental √© o <strong>vetor</strong>. Mesmo um √∫nico n√∫mero √© um vetor de tamanho 1.</p>
                              <p>Usamos a fun√ß√£o <code>c()</code> para criar vetores. Podemos fazer opera√ß√µes em todo o vetor de uma vez (vetoriza√ß√£o).</p>`,
                    code: `# Atribui√ß√£o (pode usar <- ou ->)
testeA <- 3 * 2
4 * 8 -> testeB

# Criando vetores
x1 <- c(2, 6, 20)
length(x1)          # Tamanho: 3
mean(x1)            # M√©dia

# Acessando elementos
x1[2]               # Segundo elemento (6)
x1[c(1, 3)]         # Primeiro e terceiro

# Filtragem l√≥gica (Super √∫til!)
x2 <- c(x1, 67, 90)
x2[x2 < 70]         # Retorna elementos menores que 70`
                },
                {
                    title: "Fun√ß√µes √öteis",
                    tag: "Ferramentas",
                    filename: "funcoes_gerandoDados.R",
                    tip: "set.seed() garante que seus n√∫meros aleat√≥rios sejam os mesmos toda vez.",
                    content: `<p>O R possui v√°rias fun√ß√µes embutidas para gerar sequ√™ncias e n√∫meros aleat√≥rios, essenciais para simula√ß√µes estat√≠sticas.</p>
                              <ul class="list-disc pl-5 mt-2">
                                <li><code>sample</code>: Sorteia valores.</li>
                                <li><code>seq</code>: Cria sequ√™ncias.</li>
                                <li><code>rep</code>: Repete valores.</li>
                              </ul>`,
                    code: `# 1. Amostra aleat√≥ria
set.seed(1)  # Garante reprodutibilidade
sample(1:10, size = 5, replace = FALSE)

# 2. Sequ√™ncias
seq(from = 1, to = 10, by = 2) # 1, 3, 5, 7, 9

# 3. Repeti√ß√£o
rep("Oi", times = 3) # "Oi" "Oi" "Oi"

# 4. Ordena√ß√£o e Valores √önicos
vetor <- c(1, 2, 2, 3, 4, 4, 5)
unique(vetor)  # 1 2 3 4 5
table(vetor)   # Conta frequ√™ncia de cada um`
                }
            ],
            graficos: [
                {
                    title: "Gr√°ficos Nativos",
                    tag: "Visualiza√ß√£o",
                    filename: "funcoes_graficosNativamente.R",
                    tip: "Gr√°ficos nativos s√£o r√°pidos para explora√ß√£o inicial.",
                    content: `<p>O R "Vanilla" (sem pacotes) j√° faz gr√°ficos decentes. S√£o √∫teis para uma olhada r√°pida nos dados.</p>
                              <p>As fun√ß√µes principais s√£o <code>plot()</code>, <code>hist()</code> e <code>barplot()</code>.</p>`,
                    code: `# Dados de exemplo
x <- c(1, 2, 3, 4, 5)
y <- c(2, 3, 5, 7, 11)

# Gr√°fico de Dispers√£o Simples
plot(x, y, 
     main="Gr√°fico de Dispers√£o",
     col="blue", 
     pch=19) # pch define o formato do ponto

# Histograma
dados <- c(1, 2, 2, 3, 3, 3, 4, 5)
hist(dados, col="lightblue", main="Histograma")`
                },
                {
                    title: "Poder do Ggplot2",
                    tag: "Visualiza√ß√£o",
                    filename: "funcoes_Ggplot2.R",
                    tip: "Ggplot2 funciona em camadas (layers) somadas com '+'.",
                    content: `<p>O <strong>ggplot2</strong> √© o padr√£o ouro para gr√°ficos em Data Science. Ele usa a "Gram√°tica dos Gr√°ficos".</p>
                              <p>Voc√™ define os dados, a est√©tica (aes) e a geometria (geom).</p>`,
                    code: `library(ggplot2)

dados_disp <- data.frame(x = c(1, 2, 3, 4, 5), y = c(2, 3, 5, 7, 11))

# Estrutura b√°sica: Dados + Aes + Geom
ggplot(dados_disp, aes(x = x, y = y)) +
  geom_point(color = "blue", size = 3) +
  labs(title = "Gr√°fico com Ggplot2",
       x = "Eixo X",
       y = "Eixo Y") +
  theme_minimal() # Tema limpo`
                }
            ],
            titanic: [
                {
                    title: "Manipula√ß√£o Inicial",
                    tag: "Titanic - Parte 1",
                    filename: "estudoDeCaso_dicasIniciais.R",
                    tip: "Podemos remover colunas inteiras usando √≠ndice negativo, ex: dados[, -1].",
                    content: `<p><strong>Dicas Iniciais:</strong> Antes da modelagem, precisamos limpar os dados.</p>
                              <p>Neste script introdut√≥rio, aprendemos a:</p>
                              <ul class="list-disc pl-5 mt-2">
                                <li>Importar dados com <code>read.table</code>.</li>
                                <li>Remover colunas desnecess√°rias.</li>
                                <li>Fazer contagens simples (quantos sobreviveram?).</li>
                              </ul>`,
                    code: `# Importando
dados <- read.table(file = "titanic.txt", header = TRUE, sep = ",")

# Excluindo colunas (ID e Embarked)
dadosLimpos <- dados[, -c(1, 12)]

# Contando sobreviventes (Soma da coluna Survived onde 1=Sim)
sobreviventes <- dados[, "Survived"]
print(sum(sobreviventes))

# Separando homens e mulheres
homens <- dados[dados$Sex == "male", ]
mulheres <- dados[dados$Sex == "female", ]`
                },
                {
                    title: "Preparando a An√°lise",
                    tag: "Titanic - Parte 2",
                    filename: "estudoDeCaso_titanic.R",
                    tip: "Summary() e Str() s√£o os melhores amigos do analista.",
                    content: `<p>Aprofundando no estudo de caso, transformamos vari√°veis categ√≥ricas (como Sobreviveu e Classe) em <strong>fatores</strong> para que o R entenda que s√£o categorias, n√£o n√∫meros.</p>`,
                    code: `# Carregando novamente para o estudo completo
titanic <- read.table(file = "titanic.txt", sep = ",", header = TRUE)

# Removendo colunas (ID, Ticket, Cabin, Embarked)
titanic <- titanic[ , -c(1, 9:12)]

# Convertendo para fatores (Categorias)
titanic$Survived <- as.factor(titanic$Survived)
titanic$Pclass <- as.factor(titanic$Pclass)
titanic$Sex <- as.factor(titanic$Sex)

summary(titanic) # Resumo estat√≠stico`
                },
                {
                    title: "Visualizando Sobreviv√™ncia",
                    tag: "Titanic - Parte 2",
                    filename: "estudoDeCaso_titanic.R",
                    tip: "Facet_wrap divide o gr√°fico em v√°rios pain√©is.",
                    content: `<p>Quem sobreviveu mais? Homens ou mulheres? Ricos ou pobres?</p>
                              <p>Usamos o ggplot para cruzar essas vari√°veis. O gr√°fico mostra a sobreviv√™ncia dividida por G√™nero e Classe.</p>`,
                    code: `# Sobreviv√™ncia por G√™nero e Classe
ggplot(data = titanic, aes(x = Sex, fill = Survived)) + 
  geom_bar(color = "black") + 
  scale_fill_manual(values = c("0" = "#A02334", "1" = "#96CEB4"),
                    labels = c("N√£o", "Sim")) +
  facet_wrap(~Pclass) + # Divide por classe (1¬™, 2¬™, 3¬™)
  labs(title = "Sobreviv√™ncia por Classe e G√™nero", 
       y = "Quantidade")`
                }
            ],
            flores: [
                {
                    title: "Iris Dataset",
                    tag: "Classifica√ß√£o",
                    filename: "estudoDeCaso_flores.R",
                    tip: "Set.seed √© usado aqui para garantir que o treino/teste seja igual sempre.",
                    content: `<p>O conjunto de dados <strong>Iris</strong> √© cl√°ssico. Ele cont√©m medidas de p√©talas e s√©palas de 3 esp√©cies de flores.</p>
                              <p>Aqui, dividimos os dados em treino (80%) e teste (20%) para criar um modelo.</p>`,
                    code: `data(iris)
set.seed(20102003) 

# Embaralhando linhas
iris <- iris[sample(nrow(iris)), ]

# Divis√£o 80/20
n <- round(0.8 * nrow(iris))
treino <- iris[1:n, ]
teste <- iris[-(1:n), ]

# Visualizando dispers√£o
ggplot(treino, aes(x = Petal.Length, y = Petal.Width, color = Species)) +
  geom_point()`
                },
                {
                    title: "L√≥gica Manual (√Årvore)",
                    tag: "Algoritmo Manual",
                    filename: "estudoDeCaso_flores.R",
                    tip: "Este √© um exemplo de 'Hard Coding' de regras, precursor das √Årvores de Decis√£o.",
                    content: `<p>Originalmente, criamos um classificador manual (if/else) baseado na observa√ß√£o dos gr√°ficos.</p>
                              <p>Isso √© a base de uma √Årvore de Decis√£o: dividir os dados em 'folhas' baseadas em perguntas de Sim/N√£o.</p>`,
                    code: `resultados <- character(nrow(teste))

for (j in 1:nrow(teste)) {
  if (teste$Petal.Length[j] < 2.5) {
    resultados[j] <- "setosa"
  } else if (teste$Petal.Width[j] < 1.75) {
    resultados[j] <- "versicolor"
  } else {
    resultados[j] <- "virginica"
  }
}

# Calculando precis√£o
taxa_acerto <- mean(teste$Species == resultados)
print(paste("Acerto:", taxa_acerto))`
                },
                {
                    title: "√Årvores de Decis√£o (rpart)",
                    tag: "Machine Learning",
                    filename: "estudoDeCaso_flores_v2.R",
                    tip: "O pacote 'rpart' (Recursive Partitioning) faz as perguntas automaticamente.",
                    content: `<p>Agora, a vers√£o profissional! Usamos a biblioteca <code>rpart</code> para criar a √°rvore automaticamente.</p>
                              <p>O algoritmo decide matematicamente onde cortar os dados para separar melhor as classes.</p>`,
                    code: `# Instalando e Carregando
# install.packages("rpart")
# install.packages("rpart.plot")
library(rpart)
library(rpart.plot)

# Criando o modelo (Esp√©cie em fun√ß√£o de todas as outras vari√°veis)
arvore <- rpart(Species ~ ., data = treino, method = "class")

# Visualizando a √Årvore
rpart.plot(arvore, main = "√Årvore de Decis√£o - Iris")

# Prevendo no teste
previsao_arvore <- predict(arvore, teste, type = "class")
mean(previsao_arvore == teste$Species) # Acur√°cia`
                },
                {
                    title: "Random Forest",
                    tag: "Machine Learning Avan√ßado",
                    filename: "estudoDeCaso_flores_v2.R",
                    tip: "Random Forest cria MUITAS √°rvores e faz uma vota√ß√£o. √â mais robusto.",
                    content: `<p>Uma "Floresta Aleat√≥ria" cria centenas de √°rvores de decis√£o levemente diferentes e combina os resultados.</p>
                              <p>Geralmente √© mais preciso que uma √∫nica √°rvore e evita decorar os dados (overfitting).</p>`,
                    code: `# install.packages("randomForest")
library(randomForest)

set.seed(42)

# Criando a floresta com 500 √°rvores
floresta <- randomForest(Species ~ ., data = treino, ntree = 500)

# Verificando a import√¢ncia das vari√°veis
varImpPlot(floresta, main = "Import√¢ncia das Vari√°veis")

print(floresta) # Mostra a matriz de confus√£o do treino`
                }
            ],
            pinguins: [
                {
                    title: "KNN Manual (L√≥gica)",
                    tag: "L√≥gica",
                    filename: "estudoDeCaso_penguins.R",
                    tip: "Entender a matem√°tica (Dist√¢ncia Euclidiana) √© fundamental.",
                    content: `<p>Originalmente, calculamos a dist√¢ncia entre os pontos manualmente para entender como o algoritmo pensa.</p>
                              <p>O KNN (K-Nearest Neighbors) classifica um ponto novo baseando-se nos seus vizinhos mais pr√≥ximos.</p>`,
                    code: `library(palmerpenguins)
pinguins <- na.omit(penguins) 

# C√°lculo Manual da Dist√¢ncia
# (Apenas ilustrativo, ver pr√≥ximo slide para m√©todo autom√°tico)

distancias <- numeric(nrow(treino))
for (k in 1:nrow(treino)) {
  distancias[k] <- sqrt(
    (teste$body_mass_g[1] - treino$body_mass_g[k])^2 +
    (teste$bill_length_mm[1] - treino$bill_length_mm[k])^2
  )
}`
                },
                {
                    title: "KNN Profissional (class)",
                    tag: "Machine Learning",
                    filename: "estudoDeCaso_penguins_v2.R",
                    tip: "O pacote 'class' cont√©m a implementa√ß√£o padr√£o do KNN no R.",
                    content: `<p>No dia a dia, usamos o pacote <code>class</code>. Ele √© ultra-r√°pido.</p>
                              <p>Aqui normalizamos os dados (boa pr√°tica no KNN) e rodamos o algoritmo com K=3.</p>`,
                    code: `library(class)

# Preparando apenas colunas num√©ricas
treino_num <- treino[, c("bill_length_mm", "bill_depth_mm", "flipper_length_mm", "body_mass_g")]
teste_num <- teste[, c("bill_length_mm", "bill_depth_mm", "flipper_length_mm", "body_mass_g")]

# Rodando o KNN
previsoes_knn <- knn(train = treino_num, 
                     test = teste_num, 
                     cl = treino$species, # Classes reais (r√≥tulos)
                     k = 3)

# Matriz de Confus√£o
table(Teste = teste$species, Previsao = previsoes_knn)`
                }
            ]
        };

        // --- L√ìGICA DE NAVEGA√á√ÉO ---
        
        let currentQueue = [];
        let currentIndex = 0;

        const homeView = document.getElementById('home-view');
        const slideView = document.getElementById('slide-view');
        const navControls = document.getElementById('nav-controls');
        
        // Elementos do Slide
        const slideTitle = document.getElementById('slide-title');
        const slideTag = document.getElementById('slide-tag');
        const slideContent = document.getElementById('slide-content');
        const slideCode = document.getElementById('code-block');
        const slideFilename = document.getElementById('code-filename');
        const slideTip = document.getElementById('slide-tip');
        const slideCounter = document.getElementById('slide-counter');

        function openModule(moduleKey) {
            currentQueue = modules[moduleKey];
            currentIndex = 0;
            renderSlide();
            
            // Transi√ß√£o de tela
            homeView.classList.add('hidden');
            slideView.classList.remove('hidden');
            navControls.classList.remove('hidden');
            navControls.classList.add('flex');
        }

        function renderSlide() {
            const item = currentQueue[currentIndex];
            
            // Atualiza textos
            slideTitle.innerText = item.title;
            slideTag.innerText = item.tag;
            slideContent.innerHTML = item.content;
            slideFilename.innerText = item.filename;
            slideTip.innerText = item.tip;
            slideCounter.innerText = `${currentIndex + 1} / ${currentQueue.length}`;
            
            // Atualiza C√≥digo
            slideCode.textContent = item.code;
            
            // Re-executa o highlight do Prism.js
            Prism.highlightElement(slideCode);
        }

        function nextSlide() {
            if (currentIndex < currentQueue.length - 1) {
                currentIndex++;
                renderSlide();
            }
        }

        function prevSlide() {
            if (currentIndex > 0) {
                currentIndex--;
                renderSlide();
            }
        }

        function goHome() {
            slideView.classList.add('hidden');
            navControls.classList.add('hidden');
            navControls.classList.remove('flex');
            homeView.classList.remove('hidden');
        }
        
        function copyCode() {
            const code = document.getElementById('code-block').innerText;
            navigator.clipboard.writeText(code);
            alert("C√≥digo copiado!");
        }

    </script>
</body>
</html>
